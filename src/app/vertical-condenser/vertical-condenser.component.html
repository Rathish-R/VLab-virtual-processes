<mat-tab-group>
    <mat-tab label="Theory">
        <br>
        <h1>Introduction</h1>
        <br>
        <p class="content">
            A vertical condenser is a heat transfer device used in various industrial processes to condense vapors into
            liquid form. It is commonly employed in distillation columns, reflux systems, and other applications where
            vapor needs to be converted back into liquid state. The vertical orientation allows for efficient heat
            transfer and condensation.
            <br>
        <h1>Operation</h1>
        <p class="content">
            The operation of a vertical condenser involves the following steps:
        </p>
        <ul class="content">
            <li>
                Vapor Inlet: The vapor to be condensed enters the condenser through a dedicated inlet. This vapor is
                typically generated from a distillation or separation process </li>
            <li>
                Cooling Medium: A cooling medium, such as water or air, is used to remove heat from the vapor and
                facilitate condensation. The cooling medium flows through channels or tubes within the condenser.
            </li>
            <li>
                Heat Transfer: As the vapor passes through the condenser, it comes into contact with the cooled surface
                provided by the cooling medium. Heat is transferred from the vapor to the cooling medium, causing the
                vapor to condense.
            </li>
            <li>
                Condensate Collection: The condensed liquid, known as condensate, collects at the bottom of the
                condenser. It is then removed through a dedicated outlet for further processing or storage.
            </li>
        </ul>
        <h1>Heat Transfer Mechanisms
        </h1>
        <p class="content">Heat transfer in a vertical condenser occurs primarily through convection and condensation:
        </p>
        <ul class="content">
            <li>
                Convection: The cooling medium flowing through the channels or tubes absorbs heat from the vapor through
                convection. This heat transfer mechanism involves the transfer of thermal energy between the vapor and
                the cooling medium.
            <li>
                Condensation: As the vapor loses heat to the cooling medium, it undergoes a phase change and condenses
                into a liquid state. This latent heat release further enhances the heat transfer process.

            </li>

        </ul>
        <h1>Design Considerations</h1>
        <p class="content">
            When designing a vertical condenser, several factors need to be considered:
        </p>
        <ul class="content">
            <li>
                Cooling Medium Selection: The choice of cooling medium depends on factors such as availability, temperature requirements, and the nature of the process being condensed.

            </li>
            <li>
                Cooling Medium Flow Rate and Temperature: Optimal flow rate and temperature of the cooling medium are crucial for achieving efficient condensation. These parameters should be carefully controlled to ensure effective heat transfer.
            </li>
            <li>
                Condenser Surface Area: The surface area of the condenser plays a critical role in the overall heat transfer performance. Increasing the surface area improves the condensation rate but may increase the size and cost of the condenser.
            </li>
            <li>
                Condensate Removal: Adequate provisions should be made for the efficient removal of condensate from the condenser. Proper drainage systems or collection outlets are essential for smooth operation.

            </li>
            
        </ul>
        <h1>
            Applications
        </h1>
        <p class="content">
            Vertical condensers find applications in various industries and processes, including:

        </p>
        <ul class="content">
            <li>
                Chemical Processing: They are used to condense vapors generated during chemical reactions, allowing for separation and purification of products.
            </li>
            <li>
                Pharmaceutical Industry: Vertical condensers are employed in pharmaceutical manufacturing processes for solvent recovery and purification.

            </li>
            <li>
                Refinery Operations: They are used in petroleum refining to condense and recover valuable products from vapor streams.
            </li>
            <li>
                Refrigeration and Air Conditioning: Vertical condensers are utilized in refrigeration and air conditioning systems to convert refrigerant vapors back into liquid form.

            </li>
        </ul>
        <img class="rounded mx-auto d-block"
            src="../../assets/Condenser.png"
            style="width:fit-content;height: fit-content; z-index: -1;">
    </mat-tab>
    <mat-tab label="Formulae" color="Accent">

        <div class="formulae" style="margin-top: 5%;font-size: large;letter-spacing: 2.5;">
            <div class="row">
                <div class="col-8"> </div>
            </div>
        </div>


    </mat-tab>
    <mat-tab label="Simulation">


        <div style="margin:5% 20%;">
            <form [formGroup]="ip">

                <table class="table table-hover table-striped mat-elevation-z8">
                    <thead>
                        <tr>
                            <th>Property</th>
                            <th>Value</th>
                            <th>Units</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Assumed HT Coefficient U</td>
                            <td>
                                <select formControlName="HeatTransferCoeffAssumed">
                                    <option value="800">800</option>
                                    <option value="900">900</option>
                                    <option value="1000">1000</option>
                                    <option value="1100">1200</option>
                                    <option value="1200">1200</option>
                                </select>
                            </td>
                            <td> W/m<sup>2</sup>&deg;C </td>
                        </tr>


                        <tr>
                            <td>Tube's Outside diameter</td>
                            <td>
                                <input type="number" formControlName="TubeDiaO">
                            </td>
                            <td> m </td>
                        </tr>
                        <tr>
                            <td>Tube's Inside diameter</td>
                            <td>
                                <input type="number" formControlName="TubeDiaI">
                            </td>
                            <td> m </td>
                        </tr>
                        <tr>
                            <td>Tube's Length</td>
                            <td>
                                <input type="number" formControlName="L">
                            </td>
                            <td> m </td>
                        </tr>

                        <tr>
                            <td> Mass Flowrate (Vapour)</td>
                            <td><input type="number" formControlName="VapFlowRate"></td>
                            <td>
                                <select formControlName="OilFRUnit">
                                    <option value="Kg/sec">Kg/sec</option>
                                    <option value="Kg/hr">Kg/Hrs</option>
                                    <option value="Kg/min">Kg/min</option>
                                    <option value="l/hr" disabled>l/hr</option>
                                    <option value="l/min" disabled>l/hr</option>
                                    <option value="l/sec" disabled>l/hr</option>
                                </select>
                            </td>
                        </tr>

                        <tr>
                            <td>Mass Flowrate (Water)</td>

                            <td><input type="number" formControlName="Waterflowrate"></td>
                            <td> <select formControlName="WaterFRUnit">
                                    <option value="Kg/sec">Kg/sec</option>
                                    <option value="Kg/hr">Kg/hr</option>
                                    <option value="Kg/min">Kg/min</option>
                                    <option value="l/hr" disabled>l/hr</option>
                                    <option value="l/min" disabled>l/hr</option>
                                    <option value="l/sec" disabled>l/hr</option>
                                </select></td>
                        </tr>

                        <tr>
                            <td>HotFluid Inlet temperature</td>
                            <td><input type="number" formControlName="Thi"></td>
                            <td>&deg;C</td>
                        </tr>
                        <tr>
                            <td>Cold fluid inlet temperature</td>

                            <td><input type="number" formControlName="Tci"></td>
                            <td>&deg;C</td>
                        </tr>
                        <tr>

                            <td>Cold fluid Outlet temperature (Desired)</td>
                            <td><input type="number" formControlName="Tco"></td>
                            <td>&deg;C</td>
                        </tr>
                        <tr>

                            <td>Hot fluid Outlet temperature (Desired)</td>
                            <td><input type="number" formControlName="Tho"></td>
                            <td>&deg;C</td>
                        </tr>

                    </tbody>
                </table>
                <button class="btn btn-success" type="submit" [disabled]="!ip.valid"
                    (click)="onSubmit()">submit</button>
                <div *ngIf="ip.invalid && ip.dirty" style="color: red">All fields are
                    required.</div>
                <div *ngIf="ip.valid && !this.v.isCalculated" style="color: rgb(4, 255, 0)">Ready to calculate</div>
            </form>
        </div>
    </mat-tab>

    <mat-tab label="Result">
        <div *ngIf="v.isCalculated">
            <table class="table table-hover table-striped table-striped mat-elevation-z8">
                <thead>
                    <tr>
                        <th>Property</th>
                        <th>Value</th>
                        <th>Units</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td> LMTD </td>

                        <td>{{this.v.lmtd}}</td>
                        <td>&deg;C </td>
                    </tr>
                    <tr>
                        <td> Heat Duty Q (shell) </td>

                        <td>{{this.v.QShellSide}}</td>
                        <td>W</td>
                    </tr>
                    <tr>
                        <td> Heat Transfer Area (Shell)</td>

                        <td>{{this.v.HtArea}}</td>
                        <td>m<sup>2</sup></td>
                    </tr>
                    <tr>
                        <td> Number of Tubes </td>

                        <td>{{this.v.Tubes}}</td>
                        <td> NA </td>
                    </tr>
                    <tr>
                        <td> Bundle Diameter </td>

                        <td>{{this.v.BundleDia}}</td>
                        <td> m </td>
                    </tr>
                    <tr>
                        <td> Shell Diameter </td>

                        <td>{{this.v.ShellDia}}</td>
                        <td> m </td>
                    </tr>
                    <tr>
                        <td> Tubes Per Pass </td>

                        <td>{{this.v.TubesPerPass}}</td>
                        <td> m </td>
                    </tr>
                    <tr>
                        <td>Total Flow area(Tubes)</td>

                        <td>{{this.v.FlowAreaOfTubes}}</td>
                        <td> m<sup>2</sup> </td>
                    </tr>
                    <tr>
                        <td>Velocity(Tube side fluid)</td>

                        <td>{{this.v.VelocityTubeSide}}</td>
                        <td> m/s </td>
                    </tr>

                    <tr>
                        <td>Tube Side HeatTransfer Coefficient</td>

                        <td>{{this.v.HtubeSide}}</td>
                        <td>W/m<sup>2</sup>&deg;C </td>
                    </tr>
                    <tr>
                        <td>Tube Bundle HeatTransfer Coefficient</td>

                        <td>{{this.v.HTubeBundle}}</td>
                        <td> W/m<sup>2</sup>&deg;C </td>
                    </tr>
                    <tr>
                        <td>Overall HeatTransfer Coefficient</td>

                        <td>{{this.v.OverallHTCoeff}}</td>
                        <td> W/m<sup>2</sup>&deg;C </td>
                    </tr>
                    <tr>
                        <td>Tube side Pressure Drop</td>

                        <td>{{this.v.PDropTs}}</td>
                        <td>Psi</td>
                    </tr>
                    <tr>
                        <td>Shell side Pressure Drop</td>

                        <td>{{this.v.PDropSs}}</td>
                        <td>Psi</td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div *ngIf="!this.v.isCalculated">
            <div class="alert-warning" style="padding:20px;margin: 5% 20%;">
                <h1><i class="bi bi-exclamation-circle"></i> Cannot generate results</h1>
                <h3>Simulate to get results</h3>
            </div>
        </div>
    </mat-tab>
    <mat-tab label="Virtual Experiment">
        <form [formGroup]="ip">
            <table mat-table class="table table-bordered table-striped mat-elevation-z8">
                <thead>
                    <tr>
                        <th>Property</th>
                        <th>Value</th>
                        <th>Units</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td> Mass Flowrate (Methanol)</td>
                        <td><input type="number" formControlName="OilFlowRate"></td>
                        <td>
                            <select formControlName="OilFRUnit">
                                <option value="Kg/sec">Kg/sec</option>
                                <option value="Kg/hr">Kg/Hrs</option>
                                <option value="Kg/min">Kg/min</option>
                                <option value="l/hr" disabled>l/hr</option>
                                <option value="l/min" disabled>l/hr</option>
                                <option value="l/sec" disabled>l/hr</option>
                            </select>
                        </td>
                    </tr>

                    <tr>
                        <td>Mass Flowrate (Water)</td>

                        <td><input type="number" formControlName="Waterflowrate"></td>
                        <td> <select formControlName="WaterFRUnit">
                                <option value="Kg/sec">Kg/sec</option>
                                <option value="Kg/hr">Kg/hr</option>
                                <option value="Kg/min">Kg/min</option>
                                <option value="l/hr" disabled>l/hr</option>
                                <option value="l/min" disabled>l/hr</option>
                                <option value="l/sec" disabled>l/hr</option>
                            </select></td>
                    </tr>

                    <tr>
                        <td>HotFluid Inlet temperature</td>
                        <td><input type="number" formControlName="Thi"></td>
                        <td>&deg;C</td>
                    </tr>
                    <tr>
                        <td>Cold fluid inlet temperature</td>

                        <td><input type="number" formControlName="Tci"></td>
                        <td>&deg;C</td>
                    </tr>
                    <tr>

                        <td>Cold fluid Outlet temperature (Desired)</td>
                        <td><input type="number" formControlName="Tco"></td>
                        <td>&deg;C</td>
                    </tr>
                    <tr>

                        <td>Hot fluid Outlet temperature (Desired)</td>
                        <td><input type="number" formControlName="Tho"></td>
                        <td>&deg;C</td>
                    </tr>
                    <tr>
                        <td> Obtained Overall Heat Temperature Coefficient - U</td>

                        <td>{{this.v.OverallHTCoeff}}</td>
                        <td>W/m<sup>2</sup> &deg;C</td>
                    </tr>

                    <tr>
                        <td> Obtained Heat Duty - Q</td>

                        <td>{{this.v.QFound/1000}}</td>
                        <td>KW</td>
                    </tr>
                    <tr>
                        <td> Hot Fluid Outlet temperature - THo</td>

                        <td>{{this.v.Tho}}</td>
                        <td> &deg;C</td>
                    </tr>
                    <tr>
                        <td> Cold Fluid Outlet temperature - TCo</td>

                        <td>{{this.v.Tco}}</td>
                        <td> &deg;C</td>
                    </tr>

                </tbody>
            </table>
            <button class="btn btn-success" type="submit" [disabled]="!ip.valid" (click)="onSubmit()">submit</button>
            <div *ngIf="ip.invalid && ip.dirty" style="color: red">All fields are
                required.</div>
            <div *ngIf="ip.valid && !this.v.isCalculated" style="color: rgb(4, 255, 0)">Ready to calculate</div>
        </form>
        <div class="image">
            <div class="Tco" style="position:absolute;top:5;left:3">{{this.v.Tco}}</div>
            <div class="Tho">{{this.v.Tho}}</div>

            <img class="rounded mx-auto d-block"
            src="../../assets/Condenser.png"
            style="width:fit-content;height: fit-content; z-index: -1;">
        </div>

        <div *ngIf="logs.length==0">
            <h2>No Data To display !</h2>
        </div>
        <div *ngIf="logs.length!=0">
            <h2 style="text-align:center;"><i class="bi bi-card-list"></i> Logs </h2>
            <table mat-table class="table table-bordered " style="margin:10px">
                <thead>
                    <tr>
                        <th>Mass Flowrate -methanol</th>
                        <th>Mass Flowrate -water</th>
                        <th>Hot Fluid inlet Temperature </th>
                        <th>Cold Fluid inlet Temperature </th>
                        <th>Hot Fluid outlet Temperature </th>
                        <th>Cold Fluid outlet Temperature </th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let i of logs">
                        <td>
                            {{i['Mh']}}
                        </td>
                        <td>
                            {{i['Mc']}}
                        </td>
                        <td>
                            {{i['Thi']}}
                        </td>
                        <td>
                            {{i['Tci']}}
                        </td>
                        <td>
                            {{i['Tho']}}
                        </td>
                        <td>
                            {{i['Tco']}}
                        </td>
                    </tr>
                </tbody>
            </table>


        </div>
    </mat-tab>
</mat-tab-group>
<div class="modal fade" tabindex="-1" role="dialog" aria-labelledby="errorModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="errorModalLabel">Error</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div *ngIf=""></div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>